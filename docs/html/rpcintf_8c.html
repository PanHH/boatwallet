<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Boat Wallet: rpcintf.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Boat Wallet
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">An Ethereum compatible wallet C SDK for IoT</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('rpcintf_8c.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">rpcintf.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>RPC wrapper.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="boattypes_8h_source.html">wallet/boattypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rpcport_8h_source.html">rpc/rpcport.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8f5acd68885a26f71efee9f1589e450e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="boattypes_8h.html#a032dd611b487ea287252cd8bea128df9">BOAT_RESULT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpcintf_8c.html#a8f5acd68885a26f71efee9f1589e450e">RpcInit</a> (void)</td></tr>
<tr class="memdesc:a8f5acd68885a26f71efee9f1589e450e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper function to initialize RPC mechanism.  <a href="#a8f5acd68885a26f71efee9f1589e450e">More...</a><br /></td></tr>
<tr class="separator:a8f5acd68885a26f71efee9f1589e450e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d0bca983c12cd57e901ab14544c544b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpcintf_8c.html#a6d0bca983c12cd57e901ab14544c544b">RpcDeinit</a> (void)</td></tr>
<tr class="memdesc:a6d0bca983c12cd57e901ab14544c544b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper function to de-initialize RPC mechanism.  <a href="#a6d0bca983c12cd57e901ab14544c544b">More...</a><br /></td></tr>
<tr class="separator:a6d0bca983c12cd57e901ab14544c544b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46616267dc880c1ce8b660d4b477e6f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="boattypes_8h.html#a032dd611b487ea287252cd8bea128df9">BOAT_RESULT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpcintf_8c.html#a46616267dc880c1ce8b660d4b477e6f2">RpcSetOpt</a> (const <a class="el" href="rpcintf_8h.html#abbd5560789698de6dfacb26c9539bc6e">RpcOption</a> *rpc_option_ptr)</td></tr>
<tr class="memdesc:a46616267dc880c1ce8b660d4b477e6f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper function to set options for RPC mechanism.  <a href="#a46616267dc880c1ce8b660d4b477e6f2">More...</a><br /></td></tr>
<tr class="separator:a46616267dc880c1ce8b660d4b477e6f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3f4335d3f5ecc6f22457cfc3d18874d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="boattypes_8h.html#a032dd611b487ea287252cd8bea128df9">BOAT_RESULT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpcintf_8c.html#ae3f4335d3f5ecc6f22457cfc3d18874d">RpcRequestSync</a> (const <a class="el" href="boattypes_8h.html#ab27e9918b538ce9d8ca692479b375b6a">UINT8</a> *request_ptr, <a class="el" href="boattypes_8h.html#ae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> request_len, <a class="el" href="boattypes_8h.html#a25bdee88a6bea456316f8cb7fed42138">BOAT_OUT</a> <a class="el" href="boattypes_8h.html#ab27e9918b538ce9d8ca692479b375b6a">UINT8</a> **response_pptr, <a class="el" href="boattypes_8h.html#a25bdee88a6bea456316f8cb7fed42138">BOAT_OUT</a> <a class="el" href="boattypes_8h.html#ae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> *response_len_ptr)</td></tr>
<tr class="memdesc:ae3f4335d3f5ecc6f22457cfc3d18874d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper function to perform RPC request and receive its response synchronously.  <a href="#ae3f4335d3f5ecc6f22457cfc3d18874d">More...</a><br /></td></tr>
<tr class="separator:ae3f4335d3f5ecc6f22457cfc3d18874d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aaad46a45ae62b6c9cfbb56fbd915b4b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rpcintf_8h.html#a0ce849d2b2c0537dffa48d093589267d">RpcCtx</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpcintf_8c.html#aaad46a45ae62b6c9cfbb56fbd915b4b2">g_rpc_ctx</a></td></tr>
<tr class="memdesc:aaad46a45ae62b6c9cfbb56fbd915b4b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Context for RPC.  <a href="#aaad46a45ae62b6c9cfbb56fbd915b4b2">More...</a><br /></td></tr>
<tr class="separator:aaad46a45ae62b6c9cfbb56fbd915b4b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf05415362cb98aec36d770c1621d616"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rpcintf_8h.html#abbd5560789698de6dfacb26c9539bc6e">RpcOption</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpcintf_8c.html#adf05415362cb98aec36d770c1621d616">g_rpc_option</a></td></tr>
<tr class="memdesc:adf05415362cb98aec36d770c1621d616"><td class="mdescLeft">&#160;</td><td class="mdescRight">Options struct for RPC.  <a href="#adf05415362cb98aec36d770c1621d616">More...</a><br /></td></tr>
<tr class="separator:adf05415362cb98aec36d770c1621d616"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RPC wrapper. </p>
<p><a class="el" href="rpcintf_8c.html" title="RPC wrapper. ">rpcintf.c</a> contains wrapper functions for RPC. The exact implementation of the actual RPC mechanism is controlled by RPC_USE_XXX macros. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a6d0bca983c12cd57e901ab14544c544b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d0bca983c12cd57e901ab14544c544b">&#9670;&nbsp;</a></span>RpcDeinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RpcDeinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrapper function to de-initialize RPC mechanism. </p>
<hr/>
<p> Function: <a class="el" href="rpcintf_8c.html#a6d0bca983c12cd57e901ab14544c544b" title="Wrapper function to de-initialize RPC mechanism. ">RpcDeinit()</a> </p><pre class="fragment">This function de-initializes RPC mechanism.
The exact implementation of the actual RPC mechanism is controlled by
RPC_USE_XXX macros.
</pre><dl class="section return"><dt>Returns</dt><dd>This function doesn't return any value.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">This</td><td>function doesn't take any argument. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8f5acd68885a26f71efee9f1589e450e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f5acd68885a26f71efee9f1589e450e">&#9670;&nbsp;</a></span>RpcInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="boattypes_8h.html#a032dd611b487ea287252cd8bea128df9">BOAT_RESULT</a> RpcInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrapper function to initialize RPC mechanism. </p>
<hr/>
<p> Function: <a class="el" href="rpcintf_8c.html#a8f5acd68885a26f71efee9f1589e450e" title="Wrapper function to initialize RPC mechanism. ">RpcInit()</a> </p><pre class="fragment">This function wrapper to initialize RPC mechanism.
The exact implementation of the actual RPC mechanism is controlled by
RPC_USE_XXX macros.
</pre><dl class="section return"><dt>Returns</dt><dd>This function returns BOAT_SUCCESS if successful. Otherwise it returns BOAT_ERROR.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">This</td><td>function doesn't take any argument. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae3f4335d3f5ecc6f22457cfc3d18874d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3f4335d3f5ecc6f22457cfc3d18874d">&#9670;&nbsp;</a></span>RpcRequestSync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="boattypes_8h.html#a032dd611b487ea287252cd8bea128df9">BOAT_RESULT</a> RpcRequestSync </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="boattypes_8h.html#ab27e9918b538ce9d8ca692479b375b6a">UINT8</a> *&#160;</td>
          <td class="paramname"><em>request_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="boattypes_8h.html#ae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>&#160;</td>
          <td class="paramname"><em>request_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="boattypes_8h.html#a25bdee88a6bea456316f8cb7fed42138">BOAT_OUT</a> <a class="el" href="boattypes_8h.html#ab27e9918b538ce9d8ca692479b375b6a">UINT8</a> **&#160;</td>
          <td class="paramname"><em>response_pptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="boattypes_8h.html#a25bdee88a6bea456316f8cb7fed42138">BOAT_OUT</a> <a class="el" href="boattypes_8h.html#ae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> *&#160;</td>
          <td class="paramname"><em>response_len_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrapper function to perform RPC request and receive its response synchronously. </p>
<hr/>
<p> Function: <a class="el" href="rpcintf_8c.html#ae3f4335d3f5ecc6f22457cfc3d18874d" title="Wrapper function to perform RPC request and receive its response synchronously. ">RpcRequestSync()</a> </p><pre class="fragment">This function is a wrapper for performing RPC calls synchronously.

This function takes the REQUEST to transmit as input argument and outputs
the address of the buffer containing received RPC RESPONSE. The function
will be suspended until it receives RESPONSE or timeouts.

The exact format and meaning of the request and response is defined by the
wrapped function.

The caller could only read from the response buffer and copy to its own
buffer. The caller MUST NOT modify, free the response buffer or save the
address of the response buffer for later use.
</pre><dl class="section return"><dt>Returns</dt><dd>This function returns BOAT_SUCCESS if the RPC call is successful.<br />
 If any error occurs or RPC REQUEST timeouts, it transfers the error code returned by the wrapped function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">request_ptr</td><td>A pointer to the buffer containing RPC REQUEST.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request_len</td><td>The length of the RPC REQUEST in bytes.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">response_pptr</td><td>The address of a (UINT8 *) pointer to hold the address of the RESPONSE buffer. Note that whether the content in the buffer is binary stream or string is defined by the wrapped function. DO NOT assume it's NULL terminated even if it were string.<br />
 If any error occurs or RPC REQUEST timeouts, the address is NULL.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">response_len_ptr</td><td>The address of a UINT32 to hold the length of the received RESPONSE. Note that this doesn't imply a NULL terminator being counted even if the response is a string.<br />
 If any error occurs or RPC REQUEST timeouts, the length is 0. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a46616267dc880c1ce8b660d4b477e6f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46616267dc880c1ce8b660d4b477e6f2">&#9670;&nbsp;</a></span>RpcSetOpt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="boattypes_8h.html#a032dd611b487ea287252cd8bea128df9">BOAT_RESULT</a> RpcSetOpt </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="rpcintf_8h.html#abbd5560789698de6dfacb26c9539bc6e">RpcOption</a> *&#160;</td>
          <td class="paramname"><em>rpc_option_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrapper function to set options for RPC mechanism. </p>
<hr/>
<p> Function: <a class="el" href="rpcintf_8c.html#a46616267dc880c1ce8b660d4b477e6f2" title="Wrapper function to set options for RPC mechanism. ">RpcSetOpt()</a> </p><pre class="fragment">This function set options for use with RPC mechanism.
The exact implementation of the actual RPC mechanism is controlled by
RPC_USE_XXX macros.
</pre><dl class="section return"><dt>Returns</dt><dd>This function returns BOAT_SUCCESS if successful. Otherwise it returns BOAT_ERROR.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rpc_option_ptr</td><td>A pointer to the option struct of RpcOption. The exact struct of RPC implementation is controlled by RPC_USE_XXX macros. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aaad46a45ae62b6c9cfbb56fbd915b4b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaad46a45ae62b6c9cfbb56fbd915b4b2">&#9670;&nbsp;</a></span>g_rpc_ctx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rpcintf_8h.html#a0ce849d2b2c0537dffa48d093589267d">RpcCtx</a> g_rpc_ctx</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Context for RPC. </p>

</div>
</div>
<a id="adf05415362cb98aec36d770c1621d616"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf05415362cb98aec36d770c1621d616">&#9670;&nbsp;</a></span>g_rpc_option</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rpcintf_8h.html#abbd5560789698de6dfacb26c9539bc6e">RpcOption</a> g_rpc_option</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Options struct for RPC. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_1d8fd1f10602b1b3ec6e7b702d4ec182.html">rpc</a></li><li class="navelem"><a class="el" href="rpcintf_8c.html">rpcintf.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
