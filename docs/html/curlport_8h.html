<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Boat Wallet: curlport.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Boat Wallet
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">An Ethereum compatible wallet C SDK for IoT</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('curlport_8h.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">curlport.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>libcurl porting header file  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="boattypes_8h_source.html">wallet/boattypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="boatoptions_8h_source.html">wallet/boatoptions.h</a>&quot;</code><br />
</div>
<p><a href="curlport_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae0aa976d68e3476fd63551623b7f70fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="boattypes_8h.html#a032dd611b487ea287252cd8bea128df9">BOAT_RESULT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="curlport_8h.html#ae0aa976d68e3476fd63551623b7f70fc">CurlPortInit</a> (void)</td></tr>
<tr class="memdesc:ae0aa976d68e3476fd63551623b7f70fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize libcurl.  <a href="#ae0aa976d68e3476fd63551623b7f70fc">More...</a><br /></td></tr>
<tr class="separator:ae0aa976d68e3476fd63551623b7f70fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a253c2cdb6cd93bceeb43e8d6b57c8606"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="curlport_8h.html#a253c2cdb6cd93bceeb43e8d6b57c8606">CurlPortDeinit</a> (void)</td></tr>
<tr class="memdesc:a253c2cdb6cd93bceeb43e8d6b57c8606"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitialize libcurl.  <a href="#a253c2cdb6cd93bceeb43e8d6b57c8606">More...</a><br /></td></tr>
<tr class="separator:a253c2cdb6cd93bceeb43e8d6b57c8606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7bd9dc819d6c99b352f86394522fe70"><td class="memItemLeft" align="right" valign="top"><a class="el" href="boattypes_8h.html#a032dd611b487ea287252cd8bea128df9">BOAT_RESULT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="curlport_8h.html#aa7bd9dc819d6c99b352f86394522fe70">CurlPortSetOpt</a> (const <a class="el" href="rpcintf_8h.html#abbd5560789698de6dfacb26c9539bc6e">RpcOption</a> *rpc_option_ptr)</td></tr>
<tr class="memdesc:aa7bd9dc819d6c99b352f86394522fe70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set options for use with libcurl.  <a href="#aa7bd9dc819d6c99b352f86394522fe70">More...</a><br /></td></tr>
<tr class="separator:aa7bd9dc819d6c99b352f86394522fe70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c8639f78ad3657938ba510e9da1b72a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="boattypes_8h.html#a032dd611b487ea287252cd8bea128df9">BOAT_RESULT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="curlport_8h.html#a7c8639f78ad3657938ba510e9da1b72a">CurlPortRequestSync</a> (const <a class="el" href="boattypes_8h.html#aebb9e13210d88d43e32e735ada43a425">CHAR</a> *request_str, <a class="el" href="boattypes_8h.html#ae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> request_len, <a class="el" href="boattypes_8h.html#a25bdee88a6bea456316f8cb7fed42138">BOAT_OUT</a> <a class="el" href="boattypes_8h.html#aebb9e13210d88d43e32e735ada43a425">CHAR</a> **response_str_ptr, <a class="el" href="boattypes_8h.html#a25bdee88a6bea456316f8cb7fed42138">BOAT_OUT</a> <a class="el" href="boattypes_8h.html#ae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> *response_len_ptr)</td></tr>
<tr class="memdesc:a7c8639f78ad3657938ba510e9da1b72a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a synchronous HTTP POST and wait for its response.  <a href="#a7c8639f78ad3657938ba510e9da1b72a">More...</a><br /></td></tr>
<tr class="separator:a7c8639f78ad3657938ba510e9da1b72a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>libcurl porting header file </p>
<p><a class="el" href="curlport_8h.html" title="libcurl porting header file ">curlport.h</a> is the header file of libcurl porting of RPC.</p>
<p>DO NOT call functions in this file directly. Instead call wrapper functions provided by rpcport.</p>
<p>To use libcurl porting, RPC_USE_LIBCURL in <a class="el" href="boatoptions_8h.html" title="Boatwallet options. ">boatoptions.h</a> must set to 1. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a253c2cdb6cd93bceeb43e8d6b57c8606"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a253c2cdb6cd93bceeb43e8d6b57c8606">&#9670;&nbsp;</a></span>CurlPortDeinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CurlPortDeinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deinitialize libcurl. </p>
<hr/>
<p> Function: <a class="el" href="curlport_8c.html#a253c2cdb6cd93bceeb43e8d6b57c8606" title="Deinitialize libcurl. ">CurlPortDeinit()</a> </p><pre class="fragment">This function de-initializes libcurl. It also frees the dynamically
allocated storage to receive response from the peer.
</pre><dl class="section return"><dt>Returns</dt><dd>This function doesn't return any value.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">This</td><td>function doesn't take any argument. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae0aa976d68e3476fd63551623b7f70fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0aa976d68e3476fd63551623b7f70fc">&#9670;&nbsp;</a></span>CurlPortInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="boattypes_8h.html#a032dd611b487ea287252cd8bea128df9">BOAT_RESULT</a> CurlPortInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize libcurl. </p>
<hr/>
<p> Function: <a class="el" href="curlport_8c.html#ae0aa976d68e3476fd63551623b7f70fc" title="Initialize libcurl. ">CurlPortInit()</a> </p><pre class="fragment">This function initializes libcurl. It also dynamically allocates storage to
receive response from the peer.
</pre><dl class="section return"><dt>Returns</dt><dd>This function returns BOAT_SUCCESS if successful. Otherwise it returns BOAT_ERROR.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">This</td><td>function doesn't take any argument. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7c8639f78ad3657938ba510e9da1b72a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c8639f78ad3657938ba510e9da1b72a">&#9670;&nbsp;</a></span>CurlPortRequestSync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="boattypes_8h.html#a032dd611b487ea287252cd8bea128df9">BOAT_RESULT</a> CurlPortRequestSync </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="boattypes_8h.html#aebb9e13210d88d43e32e735ada43a425">CHAR</a> *&#160;</td>
          <td class="paramname"><em>request_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="boattypes_8h.html#ae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>&#160;</td>
          <td class="paramname"><em>request_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="boattypes_8h.html#a25bdee88a6bea456316f8cb7fed42138">BOAT_OUT</a> <a class="el" href="boattypes_8h.html#aebb9e13210d88d43e32e735ada43a425">CHAR</a> **&#160;</td>
          <td class="paramname"><em>response_str_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="boattypes_8h.html#a25bdee88a6bea456316f8cb7fed42138">BOAT_OUT</a> <a class="el" href="boattypes_8h.html#ae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> *&#160;</td>
          <td class="paramname"><em>response_len_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a synchronous HTTP POST and wait for its response. </p>
<hr/>
<p> Function: <a class="el" href="curlport_8c.html#a7c8639f78ad3657938ba510e9da1b72a" title="Perform a synchronous HTTP POST and wait for its response. ">CurlPortRequestSync()</a> </p><pre class="fragment">This function initiates a curl session, performs a synchronous HTTP POST
and waits for its response.

is a callback function as per libcurl CURLOPT_WRITEFUNCTION option.
libcurl will call this function (possibly) multiple times to write received
data from peer to the buffer specified by this function. The received data
are typically some RESPONSE from the HTTP server.
</pre><dl class="section see"><dt>See also</dt><dd><a href="https://curl.haxx.se/libcurl/c/CURLOPT_WRITEFUNCTION.html">https://curl.haxx.se/libcurl/c/CURLOPT_WRITEFUNCTION.html</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>This function returns how many bytes are written into the user buffer. If the returned size differs from &lt;size&gt;*&lt;nmemb&gt;, libcurl will treat it as a failure.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">request_str</td><td>A pointer to the request string to POST.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request_len</td><td>The length of &lt;request_str&gt; excluding NULL terminator. This function is wrapped by <a class="el" href="rpcintf_8c.html#ae3f4335d3f5ecc6f22457cfc3d18874d" title="Wrapper function to perform RPC request and receive its response synchronously. ">RpcRequestSync()</a> and thus takes this argument for compatibility with the wrapper function. Typically it equals to strlen(request_str).</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">response_str_ptr</td><td>The address of a CHAR* pointer (i.e. a double pointer) to hold the address of the receiving buffer.<br />
 The receiving buffer is internally maintained by curlport and the caller shall only read from the buffer. DO NOT modify the buffer or save the address for later use.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">response_len_ptr</td><td>The address of a UINT32 integer to hold the effective length of &lt;response_str_ptr&gt; excluding NULL terminator. This function is wrapped by <a class="el" href="rpcintf_8c.html#ae3f4335d3f5ecc6f22457cfc3d18874d" title="Wrapper function to perform RPC request and receive its response synchronously. ">RpcRequestSync()</a> and thus takes this argument for compatibility with the wrapper function. Typically it equals to strlen(response_str_ptr). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa7bd9dc819d6c99b352f86394522fe70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7bd9dc819d6c99b352f86394522fe70">&#9670;&nbsp;</a></span>CurlPortSetOpt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="boattypes_8h.html#a032dd611b487ea287252cd8bea128df9">BOAT_RESULT</a> CurlPortSetOpt </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="rpcintf_8h.html#abbd5560789698de6dfacb26c9539bc6e">RpcOption</a> *&#160;</td>
          <td class="paramname"><em>rpc_option_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set options for use with libcurl. </p>
<hr/>
<p> Function: <a class="el" href="curlport_8c.html#aa7bd9dc819d6c99b352f86394522fe70" title="Set options for use with libcurl. ">CurlPortSetOpt()</a> </p><pre class="fragment">This function is a dummy function for compatible with RPC Port skeleton.
curl_easy_setopt() is actually called in CurlPortRequestSync() because some
options are per-session effective.
</pre><dl class="section return"><dt>Returns</dt><dd>This function always returns BOAT_SUCCESS.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rpc_option_ptr</td><td>A pointer to the option struct of RpcOption. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_1d8fd1f10602b1b3ec6e7b702d4ec182.html">rpc</a></li><li class="navelem"><a class="el" href="curlport_8h.html">curlport.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
